<core-header />
<div>
    <div id="content" class="container-fluid p-2">
        <mat-accordion>
            <mat-expansion-panel [disabled]="isDisabled()"  [expanded]="!isDisabled()" style="background: ghostwhite !important">
                <mat-expansion-panel-header>
                <mat-panel-title><strong>Owner's information</strong> </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="container-fluid">
                    <div class="row">
                      <div class="col-sm-12">
                        <mat-list>
                          <div class="card mb-3 border-light" style="border-radius: 10px; background: ghostwhite !important">
                            <div class="row g-0 " style="border-radius: 10px;">
                              <div class="card-header" style="background: ghostwhite !important">
                                <div class="d-flex justify-content-between">
                                  <div>
                                    <strong id="firstname">{{policy.contacts[0].firstname}} </strong><strong id="lastname">{{ policy.contacts[0].lastname }}</strong>
                                  </div>                                  
                                  <div style="color: #469346;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                                      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                                    </svg><span style="font-size: 15px;" title="Estado"> Inscrito</span>
                                  </div>                                  
                                </div>                              
                              </div>
                              <div class="col-md-4 col-sm-4 d-flex justify-content-center align-items-center" >
                                <img src="https://d1mm04003omuon.cloudfront.net/assets/logomark-8edc285da3ed1fe77677b59fa5cfe53aa590c186100c91aaac1c0cf89adc0b53.png" class="img-fluid rounded-start logo-1" alt="...">
                              </div>                              
                              <div class="col-md-8 col-sm-8">
                                <div class="card-body text-center">                                
                                  <div class="card-text">
                                    <mat-list>
                                      <mat-list-item><span style="font-size: 12px;"><strong>SSN:</strong> </span><span title="SSN" id="ssn"> {{policy.contacts[0].ssn}}</span></mat-list-item>
                                      <mat-list-item><span style="font-size: 12px;"><strong>DoB:</strong> </span><span title="Fecha nacimiento" id="dob"> {{policy.contacts[0].dob}}</span></mat-list-item>
                                      <mat-list-item><span style="font-size: 12px;"><strong>Income:</strong> </span><span title="Ingresos" id="income"> {{policy.income}}</span></mat-list-item>
                                    </mat-list>
                                  </div>
                                  <p class="card-text"><small class="text-body-secondary"><span title="Direccion" id="address"> {{policy.address.address}}</span><span title="Ciudad" id="city"> {{policy.address.city}} <span id="state">{{policy.address.state}}</span> <span id="zipcode">{{policy.address.zipcode}}</span></span></small></p>
                                </div>
                              </div>
                            </div>
                          </div>                                         
                        </mat-list>
                      </div>
                      <div class="col-md-6 col-sm-12">
                          <mat-list class="d-flex justify-content-around">
                            <div>
                              <mat-list-item><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-envelope-at-fill" viewBox="0 0 16 16">
                                <path d="M2 2A2 2 0 0 0 .05 3.555L8 8.414l7.95-4.859A2 2 0 0 0 14 2zm-2 9.8V4.698l5.803 3.546zm6.761-2.97-6.57 4.026A2 2 0 0 0 2 14h6.256A4.5 4.5 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586zM16 9.671V4.697l-5.803 3.546.338.208A4.5 4.5 0 0 1 12.5 8c1.414 0 2.675.652 3.5 1.671"/>
                                <path d="M15.834 12.244c0 1.168-.577 2.025-1.587 2.025-.503 0-1.002-.228-1.12-.648h-.043c-.118.416-.543.643-1.015.643-.77 0-1.259-.542-1.259-1.434v-.529c0-.844.481-1.4 1.26-1.4.585 0 .87.333.953.63h.03v-.568h.905v2.19c0 .272.18.42.411.42.315 0 .639-.415.639-1.39v-.118c0-1.277-.95-2.326-2.484-2.326h-.04c-1.582 0-2.64 1.067-2.64 2.724v.157c0 1.867 1.237 2.654 2.57 2.654h.045c.507 0 .935-.07 1.18-.18v.731c-.219.1-.643.175-1.237.175h-.044C10.438 16 9 14.82 9 12.646v-.214C9 10.36 10.421 9 12.485 9h.035c2.12 0 3.314 1.43 3.314 3.034zm-4.04.21v.227c0 .586.227.8.581.8.31 0 .564-.17.564-.743v-.367c0-.516-.275-.708-.572-.708-.346 0-.573.245-.573.791"/>
                              </svg> <span title="E-mail" id="email"> {{policy.email}}</span></mat-list-item>
                            </div>                   
                            <div>
                              <mat-list-item><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-phone-fill" viewBox="0 0 16 16">
                                <path d="M3 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm6 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0"/>
                              </svg> <span title="Numero contacto" id="phone"> {{policy.phone}}</span></mat-list-item>                          
                            </div>                          
                          </mat-list>
                      </div>
                    </div>                        
                </div>
            </mat-expansion-panel>
            <mat-expansion-panel [disabled]="isDisabled()" [(expanded)]="isThirdPanelOpen">
              <mat-expansion-panel-header>
                <mat-panel-title> <strong>Member's information</strong> </mat-panel-title>
              </mat-expansion-panel-header>
              <div class="container-fluid">
                <div class="row">
                  <div class="col-sm-12">
                      <table class="table" style="--bs-table-bg: transparent">
                        <thead class="text-center">
                          <tr>                            
                            <th scope="col">Solicitante</th>
                            <th scope="col">GÃ©nero</th>
                            <th scope="col">Tabaco</th>
                            <th scope="col">DoB</th>
                            <th scope="col">SSN</th>
                            <th scope="col">Elegibilidad</th>
                          </tr>
                        </thead>
                        <tbody class="text-center">
                          <tr *ngFor="let fila of filasLimitadas; let i = index">
                            <td>{{fila[0]}}</td>
                            <td>{{fila[1]}}</td>
                            <td>{{fila[2]}}</td>
                            <td>{{fila[3]}}</td>
                            <td>{{fila[4]}}</td>
                            <td>{{fila[5]}}</td>                    
                          </tr>
                        </tbody>
                      </table>                    
                  </div>
                </div>                        
            </div>
            </mat-expansion-panel>
            <mat-expansion-panel [disabled]="isDisabled()" [(expanded)]="isSecondPanelOpen">
                <mat-expansion-panel-header>
                  <mat-panel-title> <strong>Plan's information</strong> </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-sm-12">
                      <mat-tab-group>
                        <mat-tab *ngFor="let tab of [].constructor(tabs); let i = index" [label]="'Plan ' + (i + 1)">
                          <mat-list>
                            <div class="card mb-3 border-light" style="border-radius: 10px; background: ghostwhite !important">
                              <div class="row g-0 " style="border-radius: 10px;">
                                <div class="card-header" style="background: ghostwhite !important">
                                  <div class="d-flex justify-content-between">
                                    <strong><small>{{policy.plan_info.plan_name[i]}}</small></strong>
                                    <div>
                                      <span id="efectividad"><small>{{policy.plan_info.efectividad[i]}} - {{policy.plan_info.terminacion[i]}}</small></span>
                                    </div>                                  
                                  </div>                              
                                </div>
                                <div class="col-md-4 col-sm-4 d-flex justify-content-center align-items-center">
                                  <img id="dynamicImage" src="" class="img-fluid rounded-start" alt="..." >
                                </div>                              
                                <div class="col-md-8 col-sm-8">
                                  <div class="card-body">                                
                                    <div class="card-text row">
                                      <div class="col-sm-6 d-flex justify-content-center align-items-center text-center">
                                        <table class="table" style="--bs-table-bg: transparent">
                                          <tbody style="border: transparent">
                                            <tr>
                                              <td style="padding: 0;"><svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" fill="currentColor" class="bi bi-person-circle mr-2" viewBox="0 0 16 16">
                                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                                                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                                              </svg><span>{{policy.plan_info.aplicantes[i]}}</span></td>    
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                      <div class="col-sm-6" style="padding: 2px;">
                                        <mat-list>
                                          <mat-list-item><span style="font-size: 12px;"><strong>Prima:</strong> </span><span title="Valor prima" id="prima_price"> {{policy.plan_info.prima[i]}}</span></mat-list-item>
                                          <mat-list-item><span style="font-size: 12px;"><strong>Deducible:</strong> </span><span title="Deducible" id="deductible"> {{policy.plan_info.deducible[i]}}</span></mat-list-item>                                     
                                          <mat-list-item><span style="font-size: 12px;"><strong>Max Desembolso: </strong> </span><span title="Max desembolso" id="max_desem"> {{policy.plan_info.max_desem[i]}}</span></mat-list-item>
                                          <mat-list-item><span style="font-size: 12px;"><strong>Subscriber ID:</strong> </span><span title="Plan id" id="plan_id"> {{policy.plan_info.sub_id[i]}}</span></mat-list-item>             
                                        </mat-list>
                                      </div>
                                    </div>
                                    <div class="text-center">
                                      <p class="card-text"><small class="text-body-secondary">MP ID<span title="MP ID" id="mp_id"> {{policy.plan_info.mp_id}} </span></small></p>
                                    </div>                                    
                                  </div>
                                </div>
                              </div>
                            </div>                                         
                          </mat-list>
                        </mat-tab>
                      </mat-tab-group>                                                                  
                    </div>                   
                  </div>                        
              </div>
            </mat-expansion-panel>            
        </mat-accordion>
    </div>
</div>
<core-footer />